{% extends 'layouts/layout.html' %}

{% block body %}
<h1>this is the table view page</h1>

<div>
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    {% for message in messages %}
        <div class="alert alert-warning alert-dismissible fade show" role="alert">
            <p>{{message}}</p>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    {% endfor %}
    {% endif %}
    {% endwith %}
    <!-- in the POST method, its really important that method in the form it have to be ALWAWS at front, first that the action, than comes the action with the NAME OF THE FUNTION WHO HAVE THE URL -->
    <form method="POST" action="/addUser" >
        <input type="text" name = "Age" placeholder="Age" class="form-control">
        <input type="text" name = "Name" placeholder="Name" class="form-control">
        <input type="text" name = "lastName" placeholder="lastName" class="form-control">
        <input type="text" name = "Ocupation" placeholder="Ocupation" class="form-control">
        <button type="submit">Save</button>
    </form>
    <div> 
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Age</th>
                    <th>Name</th>
                    <th>Last Name</th>
                    <th>Ocupation</th>
                    <th>Operation</th>
                </tr>
            </thead>
            <tbody>
                {% for userInformation in user_information %}
                <tr>
                    <td>{{ userInformation.0 }}</td>
                    <td>{{ userInformation.1 }}</td>
                    <td>{{ userInformation.2 }}</td>
                    <td>{{ userInformation.3 }}</td>
                    <td>{{ userInformation.4 }}</td>
                    <td>
                        <button>
                            <a href="/edit/{{userInformation.0}}" class="btn btn-secondary btnEdit">Edit</a>
                        </button>
                        <button>
                            <a href="/tableDelete/{{userInformation.0}}" class="btn btn-secondary btnDelete">Delete</a>
                            <!-- <script src="{{url_for('static', filename='js/events.js')}}"></script> -->
                        </button>
                        <div>
                            <button class="btnEdit">Button Test</button>
                            <!-- <script src="{{url_for('static', filename='js/events.js')}}"></script> -->
                            <!-- <script src="{{url_for('static', filename='js/main.js')}}"></script>          -->
                        </div>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>



{% endblock %}

